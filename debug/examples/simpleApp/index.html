<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Test Harness">
        <meta name="author" content="">

        <title>Sample Form</title>`

        <style id="PICT-CSS"></style>

        <script type="text/javascript">
//<![CDATA[
        console.log('Good luck!');

        function doFirstThing()
        {
            window._Pict.log.info('doFirstThing()');
            window._Pict.ContentAssignment.assignContent('#applicationContainer', '<h1>Test Application Complete -- you USED ME</h1>');
            window._Pict.ContentAssignment.assignContent('#PICT-CSS', window._Pict.ContentAssignment.readContent('#dataTop'));
        }

        function doSecondThing()
        {
            window._Pict.log.info('doSecondThing()');
        }

        function onDocumentReady(fCallback)
        {
            // In case the document is already rendered
            if (document.readyState!='loading') fCallback();
            // Modern browsers have event listener capabilities
            else if (document.addEventListener) document.addEventListener('DOMContentLoaded', fCallback);
            // IE <= 8 and ... other abominations
            else document.attachEvent('onreadystatechange', function() { if (document.readyState=='complete') callback(); });
        }

        onDocumentReady(function ()
            {
                // After the document is ready, initialize pict.
                window._Pict = new window.Pict(
                    {
                        Product:'SimpleApp'
                    });
                window._Pict.ContentAssignment.assignContent('#applicationContainer', '<h1>TEST APPLICATION INCOMING</h1>');
                for (let i = 0; i < 100; i++)
                {
                    window._Pict.ContentAssignment.appendContent('#applicationNavigation', `<p>Content appended numero ${i}`);
                }
            });
//]]>
        </script>
    </head>
    <body class="bg-light">
        <h1>Test Harness Page</h1>

        <!-- A container for the Navigation to be displayed in. -->
        <div id="applicationNavigation"></div>

        <!-- A container for the Application to live in. -->
        <div id="applicationContainer"></div>

        <div id="debugContainer">
            <!-- This below is to aid in interactive testing of the top functionality -->
            <div style="background-color:#eeffee;border-radius:10px;border:2px solid #353535;margin: 4em;">
                <h2>Top Data</h2>
                <form novalidate>
                    <textarea style="min-height:6rem;height:24rem;max-height:40rem;width:75%;" id="dataTop"></textarea>
                    <br />
                    <button type="button" onclick="doFirstThing()">Go</button>
                </form>
            </div>

            <!-- This below is to aid in interactive testing of the bottom functionality -->
            <div style="background-color:#eeffee;border-radius:10px;border:2px solid #353535;margin: 4em;">
                <h2>Bottom Data</h2>
                <form novalidate>
                    <textarea style="min-height:6rem;height:24rem;max-height:40rem;width:75%;" id="dataBottom"></textarea>
                    <br />
                    <button type="button" onclick="doSecondThing()">Stop</button>
                </form>
            </div>
        </div>


        <!-- A container for the Side Panel to be displayed in. -->
        <div id="applicationSidePanel"></div>

        <!-- Pict Library -->
        <script src="../../../dist/pict.min.js"></script>
    </body>
</html>
